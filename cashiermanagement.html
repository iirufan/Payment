<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Current Shift</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="fire2.js"></script> <!-- your firebase config -->
</head>
<body>
  <p>Current Shift No: <span id="shiftNo">Loading...</span></p>

  <script>
    // db is already available from fire2.js
    db.collection("shifts")
      .where("status", "==", "open")
      .limit(1)
      .onSnapshot(snapshot => {
        if (snapshot.empty) {
          document.getElementById("shiftNo").textContent = "No shift open";
        } else {
          const shift = snapshot.docs[0].data();
          document.getElementById("shiftNo").textContent = shift.shiftNo;
        }
      });
  </script>
</body>
</html>
